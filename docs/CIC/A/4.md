## Introduction[​](https://impacttrial.coresecurity.com/docs/doc/walkthrough/active_directory/#introduction "Direct link to Introduction")

This unit will present several techniques (and associated Core Impact modules) commonly used in the context of Active Directory attacks, where domain accounts are harvested and leveraged to move through the network and try to retrieve more information, and accounts with additional privileges.

**NOTE**
The demo environments contains a simplified Active Directory deployment, with a minimum number of hosts. The configuration of the environment is also simplified to illustrate several Core Impact modules. For example, password length/complexity of accounts is simple to allow for cracking in a limited time. Real-world environments would require performing these steps across multiple hosts, and cracking of passwords may require significant more time (or even be not feasible using a workstation).

## Features[​](https://impacttrial.coresecurity.com/docs/doc/walkthrough/active_directory/#features "Direct link to Features")

- Impersonate domain user
- Perfom domain information gathering
- Kerberoast attacks
- AS-REPRoasting attacks
- Ntds.dit Password Extraction
- Kerberos Golden Tickets

## Highlighted Modules[​](https://impacttrial.coresecurity.com/docs/doc/walkthrough/active_directory/#highlighted-modules "Direct link to Highlighted Modules")

- Network Information Gathering RPT
- Install Agent using SMB
- Install Agent using WMI
- Agent Process Injector
- Mimikatz
- PowerShell Shell
- Windows Domain IG Wizard
- Enumerate User Accounts with SPNs
- Enumerate User Accounts without Kerberos preauthentication
- Windows Secrets Dump (L)
- Create Kerberos Goldent Ticket

## References[​](https://impacttrial.coresecurity.com/docs/doc/walkthrough/active_directory/#references "Direct link to References")

- Kerberoasting
    - [QOMPLX Knowledge: Kerberoasting Attacks Explained](https://www.qomplx.com/qomplx-knowledge-kerberoasting-attacks-explained/)
    - [stealthbits' Attack Catalog - Kerberoasting](https://attack.stealthbits.com/cracking-kerberos-tgs-tickets-using-kerberoasting)
    - [Discovering Service Accounts without using privileges](https://stealthbits.com/blog/20170501discovering-service-accounts-without-using-privileges/)
    - [Extracting Service Accounts passwords with Kerberoasting](https://stealthbits.com/blog/extracting-service-account-passwords-with-kerberoasting/)
- AS-REPRoasting
    - [QOMPLX Knowledge: What Are AS-REP Roasting Attacks?](https://www.qomplx.com/qomplx-knowledge-what-is-as-rep-roasting/)
    - [Cracking Active Directory passwords with AS-REP Roasting](https://stealthbits.com/blog/cracking-active-directory-passwords-with-as-rep-roasting/)
    - [IOC differences between Kerberoasting and AS-REP Roasting](https://medium.com/@jsecurity101/ioc-differences-between-kerberoasting-and-as-rep-roasting-4ae179cdf9ec)
- [stealthbits' Attack Catalog - Ntds.dit Password Extraction](https://attack.stealthbits.com/ntds-dit-security-active-directory)
- Kerberos Golden Tickets.
    - [QOMPLX Knowledge: Golden Ticket Attacks Explained](https://www.qomplx.com/qomplx-knowledge-golden-ticket-attacks-explained/)
    - [stealthbits' Attack Catalog - Golden Ticket](https://attack.stealthbits.com/how-golden-ticket-attack-works)
    - [Complete Domain compromise with Golden Tickets](https://stealthbits.com/blog/complete-domain-compromise-with-golden-tickets/)

## Walkthrough[​](https://impacttrial.coresecurity.com/docs/doc/walkthrough/active_directory/#walkthrough "Direct link to Walkthrough")

### Introduction[​](https://impacttrial.coresecurity.com/docs/doc/walkthrough/active_directory/#introduction-1 "Direct link to Introduction")

This scenario will _assume breach_ to the Active Directory client, that is, we've somehow obtained a foothold into the domain's network (for example, through a remote exploit to the client host, a client-side attack targeting the user of the client host, obtained credentials from a previously compromised host, performed a dictionary attack on weak credentials through identity verifiers, etc.).

#### Hosts[​](https://impacttrial.coresecurity.com/docs/doc/walkthrough/active_directory/#hosts "Direct link to Hosts")

- Active Directory Domain Controller
    - Hostname: `WIN2019DC`
    - IP Address: `10.27.34.88`
- Active Directory client
    - Hostname: `WIN10VPN`
    - IP Address: `10.27.34.80`

### Initial OS Agent Deployment[​](https://impacttrial.coresecurity.com/docs/doc/walkthrough/active_directory/#initial-os-agent-deployment "Direct link to Initial OS Agent Deployment")

In order to exercise this scenario, we'll deploy an Impact OS Agent through known credentials into the client host.

1. Launch Network IG RPT to obtain information about the Active Directory client host.

![Network IG RPT Welcome](https://impacttrial.coresecurity.com/assets/images/network_ig_welcome-c15b4b639c89db6ac9b508492a460a7b.png)

2. Click **Next**.

![Network IG RPT Discovery Method](https://impacttrial.coresecurity.com/assets/images/network_ig_discovery_method-5537d293fc131f018bb44ac6016a9c5f.png)

3. Click **Next**.

![Network IG RPT IP Version](https://impacttrial.coresecurity.com/assets/images/network_ig_ip_version-fd17e3f9c8891c68c57e325f1f16ab10.png)

4. Click **Next**.

![Network IG RPT IP Range Selection](https://impacttrial.coresecurity.com/assets/images/network_ig_ip_range_selection-3e5bea15cedb230a21d80b912fa76426.png)

5. Replace the network range with the address of the AD client host: `10.27.34.80` and click **Next**.

![Network IG RPT Scan Type](https://impacttrial.coresecurity.com/assets/images/network_ig_scan_type-8da2b5aef40593d5833fa06b8a711567.png)

6. Click **Next**.

![Network IG RPT Additional Settings](https://impacttrial.coresecurity.com/assets/images/network_ig_additional_settings-7259b18505fa78f69ca0767646db2f85.png)

7. Click **Finish**.
8. Wait for Network IG RPT to complete gathering information from the AD client host.
9. In the **Modules** view, go to the **10-Post Exploitation > Agents** folder, select the module `Install agent using SMB` and drag & drop it into the AD client host.

![Install Agent Using SMB Parameters](https://impacttrial.coresecurity.com/assets/images/install_agent_using_smb_parameters-8096e87f5cfedb79869f9cfecf8ecdb6.png)

10. Complete the following module parameters:

- **USER**: `impact`
- **PASSWORD**: `EzPassword1234`

11. Click **OK** to launch the module.

- This should deploy an OS Agent on the host (with _SYSTEM_ privileges).

12. Right-click on the new OS Agent and select `Get Username`.

![Get Current Username - SYSTEM](https://impacttrial.coresecurity.com/assets/images/get_current_username_system-82edecaec2f2f68d476d10b8bf8907b0.png)

13. Right-click on the deployed OS agent and launch `Mimikatz` to harvest credentials from the host.

![Mimikatz](https://impacttrial.coresecurity.com/assets/images/mimikatz-da904439180283044dba00c9bccd9539.png)

- Mimikatz has captured credentials from a domain user logged in the host, `ruth.lane`.
- This credential is stored as an identity entity in the workspace to be used as a parameter to additional modules. Go see **Identities - Windows NTLM** in the entity view.

![Mimikatz Harvested Identities](https://impacttrial.coresecurity.com/assets/images/mimikatz_harvested_identities-91faf7bd7faaba11be3c5cb3117f646f.png)

### Move to Logged on Domain User Process[​](https://impacttrial.coresecurity.com/docs/doc/walkthrough/active_directory/#move-to-logged-on-domain-user-process "Direct link to Move to Logged on Domain User Process")

1. Right-click on the agent again and launch `Get Process List`.

- Look for the pid of the `explorer.exe` process, which would be running in the context of the logged on user.
- **Module log** supports finding text through the `Ctrl-F` hot-key (select the pane first by clicking in any row in the log).

![Get Process List](https://impacttrial.coresecurity.com/assets/images/get_process_list-8abf1dd07d3e20019af35610f61d53af.png)

2. With the OS Agent in the AD client host selected, go back to the **Modules** view, and from the **10-Post Exploitation > Agents** folder double-click on the module `Agent Process Injector`.

- `Agent Process Injector` is a **local** module, that is, a module that runs on the currently selected OS Agent in the entities view, or the current source agent if no OS Agent is currently selected. Because we want to run the module on the AD client host, we must either select the associated agent or previously have configured it as the source agent in the workspace (right-clicking on the OS agent and selecting **Set as source**).

![Agent Process Injector](https://impacttrial.coresecurity.com/assets/images/agent_process_injector-53b92f8355584b5badc4fcfe4ffcbb46.png)

3. Enter the PID of the `explorer.exe` process and click **OK**.

- A new (non-privileged) OS Agent will be deployed, running in the context of the logged on user.

4. Right-click on the new OS Agent and select `Get Username`.

![Get Current User Name - Logged on user](https://impacttrial.coresecurity.com/assets/images/get_current_username_logged_on_user-32b483a87516430bf86c8c19f37aeb1c.png)

5. We can capture a screenshot from the logged session, by right-clicking on the OS Agent again and selecting `Get screenshot`.

![Get Screenshot](https://impacttrial.coresecurity.com/assets/images/get_screenshot-11f39f3f7bcd8bb1cc30187dadbfcdd9.png)

### Information Gathering on Domain[​](https://impacttrial.coresecurity.com/docs/doc/walkthrough/active_directory/#information-gathering-on-domain "Direct link to Information Gathering on Domain")

1. Let's now obtain the name of the domain to which the host is connected.

**NOTE**
The domain name was also shown as part of the **Mimikatz** dump, but the goal is to show off some OS Agent capabilities like the `PowerShell Shell`.

2. Right-click on the agent and launch a `PowerShell Shell`.
3. Execute the command: `(Get-WmiObject Win32_ComputerSystem).Domain`

**NOTE**
The `PowerShell Shell` loads .NET & PowerShell libraries in the context of the OS Agent process, which means that no PowerShell process (`powershell.exe`) is spawned (which can be detected by some HIPS).

![PowerShell Shell - Get Domain](https://impacttrial.coresecurity.com/assets/images/powershell_shell_get_domain-5f79a42210a9c1a24b93ea7c1f12cf1c.png)

4. Let's inspect the domain.
5. Set the OS agent of the logged on user as source by right-clicking on the agent and selecting `Set as source`.
6. In the **Modules** view, go to the **Information Gathering** category and launch the module `Windows Domain IG Wizard`.

**NOTE**
You can also search for the module using the **Modules** view's search bar. The walkthrough shows module discovery through the categories, so that the user can locate additional features/actions to perform in the future.

![Windows Domain IG Welcome](https://impacttrial.coresecurity.com/assets/images/windows_domain_ig_welcome-40dd0744e1d550c1291400db33d03b32.png)

7. Click **Next**.

![Windows Domain IG Domain Name](https://impacttrial.coresecurity.com/assets/images/windows_domain_ig_domain_name-b89036f15e56dcbf5a471b343471922e.png)

8. Enter the domain name (`acme.corp`) and click **Next**.

![Windows Domain IG Authentication Type](https://impacttrial.coresecurity.com/assets/images/windows_domain_ig_authentication_type-4733f47eb3b475e2395717a53e828c59.png)

9. Click **Next**.

- **Use Integrated Windows Authentication** will leverage the credentials of the logged on user (associated to the process where the OS Agent is running).

![Windows Domain IG Modules Selection](https://impacttrial.coresecurity.com/assets/images/windows_domain_ig_modules_selection-3add4e894be08b7136840311782ee6c3.png)

10. Click **Finish**.

- The module will spawn several submodules to perform the tasks listed above. See results in the output/log of each submodule.

![Windows Domain IG Results](https://impacttrial.coresecurity.com/assets/images/windows_domain_ig_results-b7b33936b2fcc245f66c00d71022e821.png)

### Kerberoast Attacks[​](https://impacttrial.coresecurity.com/docs/doc/walkthrough/active_directory/#kerberoast-attacks "Direct link to Kerberoast Attacks")

1. With the previously harvested domain identity (for `ruth.lane`), we can also try to find domain services that are using user accounts, which may be prone to a **Kerberoast** attack, where a potentially weak user accout's password could be cracked.
2. Launch the `Windows Domain IG Wizard` again.

![Windows Domain IG Welcome](https://impacttrial.coresecurity.com/assets/images/windows_domain_ig_welcome-40dd0744e1d550c1291400db33d03b32.png)

3. Click **Next**.

![Windows Domain IG Domain Name](https://impacttrial.coresecurity.com/assets/images/windows_domain_ig_domain_name-b89036f15e56dcbf5a471b343471922e.png)

4. Enter the domain name (`acme.corp`) and click **Next**.

![Windows Domain IG Authentication Type](https://impacttrial.coresecurity.com/assets/images/windows_domain_ig_authentication_type_use_validated_identities-ff13765c7a1b7271a91581b13ecf9a30.png)

5. Select **Use Validated Identities** and click **Next**.

![Windows Domain IG Identity Selection](https://impacttrial.coresecurity.com/assets/images/windows_domain_ig_identity_selection-1a65a81ee9a47083a6f10fbbdc92d2d2.png)

6. Select the ellipsis button (**…**) in order to select the previously obtained identity.

![Windows Domain IG Select Validated Identity](https://impacttrial.coresecurity.com/assets/images/windows_domain_ig_select_validated_identity-38869cb3d5503153ed770d2e19bd624b.png)

7. Go to the **Identities - Windows NTLM** group, select the identity for the domain user `ruth.lane`, and click **OK**.
8. Click **Next**.

![Windows Domain IG - Enumerate User Accounts with SPNs - Modules Selection](https://impacttrial.coresecurity.com/assets/images/windows_domain_ig_modules_selection_enumerate_user_accounts_with_spns-032aae8e44a3657ae3d1c29d38650050.png)

9. Uncheck all options and leave that of **Enumerate User Accounts with SPNs** and click **Next**.

![Windows Domain IG - Enumerate User Accounts with SPNs - Modules Parameters](https://impacttrial.coresecurity.com/assets/images/windows_domain_ig_module_parameters_enumerate_user_accounts_with_spns-a390d3f035b70ca8f1714aafa157cbe2.png)

10. Click the ellipsis button (**…**) to provide the name of the file to output any retrieved ticket.

![Windows Domain IG - Enumerate User Accounts with SPNs - TGT File Selection](https://impacttrial.coresecurity.com/assets/images/windows_domain_ig_enumerate_user_accounts_with_spns_tgt_file_selection-0dd82b739a04cb5c69d70d61db4ecc66.png)

11. Enter the name of file name to extract ticket info (for example, `ticket.tgt`) and click **Save**.

![Windows Domain IG - Enumerate User Accounts with SPNs - Modules Parameters](https://impacttrial.coresecurity.com/assets/images/windows_domain_ig_module_parameters_enumerate_user_accounts_with_spns_2-0815ee799b6f049d88b6f6933cf707e2.png)

12. Check the option to try to crack any retrieved ticket, and click **Finish**.
13. The module `Enumerate User Accounts with SPNs` will find a user account with a SPN.

![Windows Domain IG - Enumerate User Accounts with SPNs](https://impacttrial.coresecurity.com/assets/images/enumerate_user_accounts_with_spns-1019a05a664e125f73939a187a648869.png)

14. Then, the module `Password cracking using John The Ripper`' will be launched to try to crack the password.

**CAUTION**
Depending on the password length and complexity this may take a long time, so this step is optional and can be launched manually at a later stage, referencing the retrieved ticket (`.tgt`) file.

![Windows Domain IG - Enumerate User Accounts with SPNs - Password cracking](https://impacttrial.coresecurity.com/assets/images/enumerate_user_accounts_with_spns_password_cracking-66bcaad08a6422b3ab640526fdb3386d.png)

15. The cracked user/pwd is stored as a new identity in the **Identities - Others** group.

![Windows Domain IG - Enumerate User Accounts with SPNs - Cracked Password identity](https://impacttrial.coresecurity.com/assets/images/enumerate_user_accounts_with_spns_cracked_password_identity-6b1bbf16a3bcec9ea316e3030fdf79ba.png)

**NOTE**
The credential obtained through the **Kerberoast** attack is going to be leveraged later, in the [Compromising Active Directory Domain Controller](https://impacttrial.coresecurity.com/docs/doc/walkthrough/active_directory/#compromising-active-directory-domain-controller) section.

### AS-REPRoasting Attacks[​](https://impacttrial.coresecurity.com/docs/doc/walkthrough/active_directory/#as-reproasting-attacks "Direct link to AS-REPRoasting Attacks")

1. Similarly, you can also use the `Windows Domain IG Wizard` to enumerate users configured without Kerberos pre-authentication, to try and perform an **AS-REPRoasting** attack.
2. Launch the `Windows Domain IG Wizard` again.

![Windows Domain IG Welcome](https://impacttrial.coresecurity.com/assets/images/windows_domain_ig_welcome-40dd0744e1d550c1291400db33d03b32.png)

3. Click **Next**.

![Windows Domain IG Domain Name](https://impacttrial.coresecurity.com/assets/images/windows_domain_ig_domain_name-b89036f15e56dcbf5a471b343471922e.png)

4. Enter the domain name (`acme.corp`) and click **Next**.

![Windows Domain IG Authentication Type](https://impacttrial.coresecurity.com/assets/images/windows_domain_ig_authentication_type_use_validated_identities-ff13765c7a1b7271a91581b13ecf9a30.png)

5. Select **Use Validated Identities** and click **Next**.

![Windows Domain IG Identity Selection](https://impacttrial.coresecurity.com/assets/images/windows_domain_ig_identity_selection-1a65a81ee9a47083a6f10fbbdc92d2d2.png)

6. Select the ellipsis button (**…**) in order to select the previously obtained identity.

![Windows Domain IG Select Validated Identity](https://impacttrial.coresecurity.com/assets/images/windows_domain_ig_select_validated_identity-38869cb3d5503153ed770d2e19bd624b.png)

7. Go to the **Identities - Windows NTLM** group, select the identity for the domain user `ruth.lane`, and click **OK**.
8. Click **Next**.

![Windows Domain IG - Enumerate User Accounts without Kerberos preauthentication - Modules Selection](https://impacttrial.coresecurity.com/assets/images/windows_domain_ig_modules_selection_enumerate_user_accounts_without_kerberos_preauthentication-9ff5cbaa10d085dbda5969e56a8dae74.png)

9. Uncheck all options and leave that of **Enumerate User Accounts without Kerberos preauthentication** and click **Next**.

**NOTE**
Notice that enumeration of user accounts with SPNs and user accounts without Kerberos preauthentication could have been launched at the same time, though we've launched individually to show the associated attack separately.

![Windows Domain IG - Enumerate User Accounts without Kerberos preauthentication - Modules Parameters](https://impacttrial.coresecurity.com/assets/images/windows_domain_ig_module_parameters_enumerate_user_accounts_without_kerberos_preauthentication-8919688a6b69e9dbfaf49531432bc62a.png)

1. Click the ellipsis button (**…**) to provide the name of the file to output any retrieved ticket.

![Windows Domain IG - Enumerate User Accounts without Kerberos preauthentication - TGT File Selection](https://impacttrial.coresecurity.com/assets/images/windows_domain_ig_enumerate_user_accounts_without_kerberos_preauthentication_tgt_file_selection-583940c709b984bbfe90342360469476.png)

11. Enter the name of file name to extract ticket info (for example, `preauth_ticket.tgt`) and click **Save**.

![Windows Domain IG - Enumerate User Accounts without Kerberos preauthentication - Modules Parameters](https://impacttrial.coresecurity.com/assets/images/windows_domain_ig_module_parameters_enumerate_user_accounts_without_kerberos_preauthentication_2-604d625f45348c3d250f2f107ad3eb74.png)

12. Check the option to try to crack any retrieved ticket, and click **Finish**.
13. The module `Enumerate User Accounts without Kerberos preauthentication` will find a user account without Kerberos preauthentication.

![Windows Domain IG - Enumerate User Accounts without Kerberos preauthentication](https://impacttrial.coresecurity.com/assets/images/enumerate_user_accounts_without_kerberos_preauthentication-2fb4642ca192c05769b2fb390b696d94.png)

14. Then, the module `Password cracking using John The Ripper`' will be launched to try to crack the password.

**NOTE**
Depending on the password length and complexity this may take a long time, so this step is optional and can be launched manually at a later stage, referencing the retrieved ticket (`.tgt`) file.

![Windows Domain IG - Enumerate User Accounts without Kerberos preauthentication - Password cracking](https://impacttrial.coresecurity.com/assets/images/enumerate_user_accounts_without_kerberos_preauthentication_password_cracking-ac04045c9ac4c726d301386816900e5c.png)

### Compromising Active Directory Domain Controller[​](https://impacttrial.coresecurity.com/docs/doc/walkthrough/active_directory/#compromising-active-directory-domain-controller "Direct link to Compromising Active Directory Domain Controller")

The service user account that we previously cracked through the **Kerberoast** attack, may be configured with additional privileges required by the associated application. In this reduced example environment, the account is configured with local admin privileges in the Active Directory server host. We can thus try to leverage the cracked user and password to deploy an OS Agent in that host.

1. In the **Network** view, open the `localhost` entity, right-click on `localagent` and set it as source, in order for the next steps to be executed from the local machine where Core Impact is running.
2. Repeat the steps to execute `Network Information Gathering` RPT (in section [Initial OS Agent deployment](https://impacttrial.coresecurity.com/docs/doc/walkthrough/active_directory/#initial-os-agent-deployment)), but now on the AD server host, with IP address: `10.27.34.88`.
3. In the **Modules** view, look for the module: `Install Agent using WMI` on the **10-Post Exploitation > Agents** folder, and drag & drop it on the discovered `ADDC` host entity.
4. Select the **IDENTITY** parameter and then click on the ellipsis button (**...**) to select the identity of the `mssql_svc`, and click OK.

![Install Agent using WMI - Identity parameter selection](https://impacttrial.coresecurity.com/assets/images/install_agent_using_wmi_identity_parameter-a851957c31cb113b7625b473310b410b.png)

5. Click **OK** to launch the module.

![Install Agent using WMI](https://impacttrial.coresecurity.com/assets/images/install_agent_using_wmi-be52959f8a03c8a19d0b6075d4c3f213.png) ![Install Agent using WMI - Deployed OS Agent](https://impacttrial.coresecurity.com/assets/images/install_agent_using_wmi_deployed_os_agent-3cd52b12234a3294307f159eb99b6dc0.png)

6. In the **Modules** view, look for the module `Windows Secrets Dump (L)` and drag-and drop it on the newly deployed OS Agent on the `ADDC` host.

**NOTE**
This module will retrieve and commit identities for all domain users, so make sure to consider whether to use the `COMMIT IDENTITIES` parameter in a large Active Directory environment.

![Windows Secrets Dump (L)](https://impacttrial.coresecurity.com/assets/images/windows_secrets_dump-a3243a4e326acb998d7307051275b4d6.png) ![Windows Secrets Dump (L) - Harvested Identities](https://impacttrial.coresecurity.com/assets/images/windows_secrets_dump_harvested_identities-e37339eeeb612345cda77772a2c10cd0.png)

### Kerberos Golden Tickets[​](https://impacttrial.coresecurity.com/docs/doc/walkthrough/active_directory/#kerberos-golden-tickets "Direct link to Kerberos Golden Tickets")

Among the retrieved identities found in the `ADDC` host, it's `krbtgt`, which is the Active Directory Key Distribution Service Account, and which can be used to forge valid _Kerberos Ticket Granting Tickets_ (TGTs).

1. In order to create a _Kerberos Golden Ticket_ we need the domain's **SID**, which is a required parameter for the module. We can obtain value through a `PowerShell Shell` on the OS Agent on the `ADDC` host, by executing:
    
    ```
    $domain = Get-ADDomain$domain.DomainSID.value
    ```
    

![PowerShell Shell - Get Domain SID](https://impacttrial.coresecurity.com/assets/images/powershell_shell_get_domain_sid-aa582466170f57ea04afe2ec9aaa14f0.png)

2. We can now right-click on the `krbtgt` identity and use it to create a _Kerberos Golden Ticket_ to impersonate another domain account.

![Create Kerberos Golden Ticket](https://impacttrial.coresecurity.com/assets/images/create_kerberos_golden_ticket-d729db17ce3479d3532645fb6a430a39.png)

3. Complete the following module parameters:

- **USERNAME**: `paul.compton`
- **DOMAIN**: `acme.corp` (previously obtained in the [Information gathering on domain](https://impacttrial.coresecurity.com/docs/doc/walkthrough/active_directory/#information-gathering-on-domain) section)
- **DOMAIN SID** (complete with the value obtained above)

![Create Kerberos Golden Ticket - Module Parameters](https://impacttrial.coresecurity.com/assets/images/create_kerberos_golden_ticket_module_parameters-b8872d8153973ab01c9306a65cc28c3f.png)

4. Click **OK**.

The module will have created a new _golden ticket_ identity entity for the domain user `paul.compton`.

![Create Kerberos Golden Ticket - New Identity](https://impacttrial.coresecurity.com/assets/images/create_kerberos_golden_ticket_new_identity-a74d30c62882bf00250ab51c07cf6d67.png)

For the sake of illustration, let's assume that the user `paul.compton` is a **Domain Administrator** account, this identity can now be used to authenticate and move around through the rest of the domain, by deploying and controlling OS Agents in other hosts in the network.