## Introduction[​](https://impacttrial.coresecurity.com/docs/doc/walkthrough/webapps/#introduction "Direct link to Introduction")

This unit presents the steps to use **Core Impact** to perform Web application test.

## Features[​](https://impacttrial.coresecurity.com/docs/doc/walkthrough/webapps/#features "Direct link to Features")

- Create scenario for a Web Application Testing
- Scan the Web Application
- Launch an Attack to validate the Top 10 OWASP Security Risks
- Review exploited pages and check installed agents
- Install OS agent through a web agent
- Perform cleanup of deployed Agents
- Generate report of found vulnerabilities

## Highlighted Modules[​](https://impacttrial.coresecurity.com/docs/doc/walkthrough/webapps/#highlighted-modules "Direct link to Highlighted Modules")

- Web Apps Information Gathering RPT
- Web Apps Attack and penetration
- Install OS Agent using OS Command Injection Agent
- Report Generation

## Walkthrough[​](https://impacttrial.coresecurity.com/docs/doc/walkthrough/webapps/#walkthrough "Direct link to Walkthrough")

### Hosts[​](https://impacttrial.coresecurity.com/docs/doc/walkthrough/webapps/#hosts "Direct link to Hosts")

- Web Application target host
    - Hostname: `webapps`
    - IP Address: `10.27.34.87`
    - Target web application: `http://10.27.34.87/mutillidae/`
        - User: `samurai`
        - Password: `samurai`

### Web Application Information Gathering[​](https://impacttrial.coresecurity.com/docs/doc/walkthrough/webapps/#web-application-information-gathering "Direct link to Web Application Information Gathering")

1. From the **RPT Pane**, select and click **Web Applications Information Gathering** RPT to crawl the web application. Click **Next**

![Information Gathering](https://impacttrial.coresecurity.com/assets/images/WebApps1-a38e56ff4242494c497373fc1299ec90.png)

2. Mark **Create a new scenario** and set the Scenario Name to `Mutillidae`. Click **Next**.

![New scenario](https://impacttrial.coresecurity.com/assets/images/WebApps2-0e755d6c80f019e341faca3fd54b0b1c.png)

3. Mark **Crawl a known web application**. Click **Next**.

![Known web app](https://impacttrial.coresecurity.com/assets/images/WebApps3-854cbbb6ab890f12229afab351ad86a9.png)

4. Mark **Automatic web crawling** and set the URL to `http://10.27.34.87/mutillidae`. Click **Next**.

![Set URL](https://impacttrial.coresecurity.com/assets/images/WebApps4-ffbccd06f46f0c7f7f0099e81e4ca3fd.png)

5. Click **Next**.

![Proxy config](https://impacttrial.coresecurity.com/assets/images/WebApps5-fee3949d045373a4a20f692368d3a798.png)

6. Click **Next**.

![Custom Headers](https://impacttrial.coresecurity.com/assets/images/WebApps6-91ce3db22e89148a653cb474b542145b.png)

7. Click **Next**.

![Crawling options](https://impacttrial.coresecurity.com/assets/images/WebApps7-902ea8cc86749b4fe766206eeef38878.png)

8. Check the option **Use session management in your website**. Click **Next**.

![Use session management](https://impacttrial.coresecurity.com/assets/images/WebApps8-ab8517446831a12e6e93ffe4da76329d.png)

9. Mark the option **Form based**. Click **Next**.

![Form Based](https://impacttrial.coresecurity.com/assets/images/WebApps9-fa598759457cf501ca99bcebdbe47b62.png)

10. Provide the credentials (user: `samurai`, password: `samurai`). Click **Next**.

![Site credentials](https://impacttrial.coresecurity.com/assets/images/WebApps10-fecd291a39a0bca938ba3bd95d87f365.png)

11. Click **Next**.

![Session management](https://impacttrial.coresecurity.com/assets/images/WebApps11-098d36f68f0aa1651c4e571fe71a4786.png)

12. Check the option **Append '?wsdl' to every found url**. Provide the credentials (user: `samurai`, password: `samurai`) for **SOAP WS-Security**. Click **Finish**.

![WSDL credentials](https://impacttrial.coresecurity.com/assets/images/WebApps12-60873c9275bf322bbfac08e7d6dcf8d4.png)

13. Wait for **Web Applications Information Gathering** RPT to complete gathering information.

![Discovery Results](https://impacttrial.coresecurity.com/assets/images/WebApps12-1-5a54f8fd3b18ec4862e90f5526ffe9db.png)

### Web Application Attack and Penetration[​](https://impacttrial.coresecurity.com/docs/doc/walkthrough/webapps/#web-application-attack-and-penetration "Direct link to Web Application Attack and Penetration")

1. From the **RPT Pane**, drag & drop **Web Applications Attack and Penetration** RPT on the ````Mutillidae``` scenario. Click **Next**.

![Web Apps RPT](https://impacttrial.coresecurity.com/assets/images/WebApps13-66d39e870da0ce0bbf6600a94195a3f6.png)

2. Verify that the target is set to `Mutillidae`. Click **Next**.

![Scenario Selection](https://impacttrial.coresecurity.com/assets/images/WebApps14-13e88df35f46fa265b193a8df08c3d17.png)

3. Check **A3 - Injection** option only. Click **Next**.

![A3](https://impacttrial.coresecurity.com/assets/images/WebApps15-6836fa6024128505bf2a052f4772f676.png)

4. Check **A5 - Security Misconfiguration > Look for XML External Entities** options only. Click **Next**.

![A4 to A7](https://impacttrial.coresecurity.com/assets/images/WebApps16-14e25c98cf0e7bcea8c66fe91bc2c569.png)

5. Uncheck all options. Click **Next**.

![A8 to end](https://impacttrial.coresecurity.com/assets/images/WebApps17-c6b9fc5b92a7f4336e308e889bc852e3.png)

6. Click **Next**.

![SQL injection options](https://impacttrial.coresecurity.com/assets/images/WebApps18-de05a774b51c5dcb8938cca32f090da1.png)

7. Click **Next**.

![XSS options](https://impacttrial.coresecurity.com/assets/images/WebApps19-b80d4e7f903c5b591f4234ea0ea15f70.png)

8. Click **Finish**.

![Finish wizard](https://impacttrial.coresecurity.com/assets/images/WebApps20-374ee2febab39d64e781b60c1641586d.png)

9. Wait for **Web Applications Attack and Penetration** RPT to finish. Several agents will be deployed.

![Attack launched](https://impacttrial.coresecurity.com/assets/images/WebApps21-4b29bb95c63fabe570c2f6cfe3c508cc.png)

WARNING

This process can take several hours. You can leave it running during the night.

### Interacting With Deployed Agents[​](https://impacttrial.coresecurity.com/docs/doc/walkthrough/webapps/#interacting-with-deployed-agents "Direct link to Interacting With Deployed Agents")

1. The deployed **Agents** can be leveraged to gain additional information such as getting the DB schema, Logins or DB version. Simply "drag and drop" the highlighted module onto the logical agent

![Local Information Gathering](https://impacttrial.coresecurity.com/assets/images/WebApps22-273851e4ed3ef0ac47e9e74ba11ecc83.png)

2. Deploy an **OS Agent** using the previously deployed **OS Command Injection Agent**. Simply "drag and drop" the module `Install OS Agent using OS Command Injection Agent` over the **OS Command Injection Agent**.

![OS Agent Deployment](https://impacttrial.coresecurity.com/assets/images/WebApps23-9aee0f698b624e8a31a50799280f4d79.png)

3. Go to the Network tab and validate that an **OS Agent** has been deployed in the `webapps` host.

![OS Agent Deployed](https://impacttrial.coresecurity.com/assets/images/WebApps24-a633acfb099a94698f9675e352bd1e08.png)

4. Control of a compromised host is now possible through the deployed **OS Agent**. This agent has capabilities to explore the local filesystem, launch programs and create new network connections from the host. In order to explore the compromised host, **Core Impact** provides shells and file browsing capabilities.
    - Right-click on the **OS Agent** deployed on the `webapps` (`10.27.34.87`) host, and select **Shell**.
    - You can execute commands to explore the filesystem and launch programs on the host.

### Generate Report of the Web Application Test[​](https://impacttrial.coresecurity.com/docs/doc/walkthrough/webapps/#generate-report-of-the-web-application-test "Direct link to Generate Report of the Web Application Test")

Finally, we'll generate a **Web Vulnerability Report** to show the results of the Web Application test.

1. From the **RPT Pane**, "drag and drop" the **Web Applications Report Generation** RPT on `Mutillidae` scenario.

![Report Wizard](https://impacttrial.coresecurity.com/assets/images/WebApps25-1e1f359f02af3e173bea8af00738af3c.png)

2. Click **Next**.
    
3. Select **WebApps Vulnerability Report** and click **Next**.
    

![Report Selection](https://impacttrial.coresecurity.com/assets/images/WebApps26-820af9277d807b3d5d09d7fe69673c25.png)

4. Select **PDF** format and click **Next**.

![Format Selection](https://impacttrial.coresecurity.com/assets/images/WebApps27-25a345156ef9228f6b78fb1352cdf260.png)

5. Click **Finish**.

![Generate Report](https://impacttrial.coresecurity.com/assets/images/WebApps28-1c9e3ca2b164c05f61e12ce6f0154556.png)

6. The **Web Applications Report Generation** RPT module will generate the report and open it using the program associated.

![Report1](https://impacttrial.coresecurity.com/assets/images/WebApps30-d000951118f674d0b73d02c143791b13.png) ![Report2](https://impacttrial.coresecurity.com/assets/images/WebApps31-1f18db70d2cbb41af5ab2f8e1b97755c.png) ![Report3](https://impacttrial.coresecurity.com/assets/images/WebApps32-d4726c21f1fb923677914ef326f217b9.png)

Though not shown here, Excel-based reports in **Core Impact** allow them to be customized after they're generated. Additionally, the user can also customize an existing Excel-based report before it's filled with the _workspace_'s results, so that these customizations can be applied every time the _duplicated_ report is generated. The user can update branding images, introductory texts, show/remove sections, and customize result tables and graphs.